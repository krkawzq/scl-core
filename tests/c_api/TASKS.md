# SCL C API æµ‹è¯• - ä»»åŠ¡åˆ†å‘æ¸…å•

## ğŸ“Š æ€»ä½“è¿›åº¦

```
æ¨¡å—              æ€»å‡½æ•°  å·²æµ‹è¯•  è¿›åº¦   ä¼˜å…ˆçº§
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
core/core.h         7       7    âœ…    P0 (å®Œæˆ)
core/dense.h       13      13    âœ…    P0 (å®Œæˆ)
core/sparse.h      27      15    ğŸ”„    P0 (è¿›è¡Œä¸­)
core/unsafe.h       4       0    â³    P2
algebra.h          15       3    ğŸ”„    P1 (ç¤ºä¾‹)
comparison.h        8       2    ğŸ”„    P1 (ç¤ºä¾‹)
å…¶ä»– 60+ æ–‡ä»¶      ?       0    â³    P1-P3
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡              134+     40    30%
```

## ğŸ¯ ä¼˜å…ˆçº§å®šä¹‰

- **P0**: æ ¸å¿ƒåŸºç¡€ï¼ˆcore/*ï¼‰ - å¿…é¡»å®Œæˆ
- **P1**: å¸¸ç”¨ kernel - é«˜ä¼˜å…ˆçº§
- **P2**: é«˜çº§åŠŸèƒ½ - ä¸­ä¼˜å…ˆçº§
- **P3**: ç‰¹æ®ŠåŠŸèƒ½ - ä½ä¼˜å…ˆçº§

## ğŸ“ å¾…åˆ†é…ä»»åŠ¡ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰

### P0 - Core æ¨¡å—ï¼ˆå¿…é¡»å®Œæˆï¼‰

#### Task-01: å®Œå–„ sparse.h æµ‹è¯• ğŸ”„
- **æ–‡ä»¶**: `test_sparse_complete.cpp`
- **çŠ¶æ€**: éƒ¨åˆ†å®Œæˆï¼ˆ15/27å‡½æ•°ï¼‰
- **å‰©ä½™å‡½æ•°**:
  - scl_sparse_row_range_view/copy
  - scl_sparse_slice_rows/cols
  - scl_sparse_col_slice
  - å…¶ä»–åˆ‡ç‰‡æ“ä½œ
- **è¦æ±‚**: å…¨éƒ¨è¦†ç›–ï¼ŒåŒ…æ‹¬è¾¹ç•Œå’Œéšæœºæµ‹è¯•
- **é¢„è®¡**: 60+ æµ‹è¯•ç”¨ä¾‹

#### Task-02: unsafe.h æµ‹è¯• â³
- **æ–‡ä»¶**: `test_unsafe.cpp`
- **å‡½æ•°**: 4ä¸ª
- **è¦æ±‚**: 
  - æµ‹è¯•åŸå§‹æŒ‡é’ˆè®¿é—®
  - éªŒè¯ ABI ä¸ç¨³å®šè­¦å‘Š
  - æ€§èƒ½å¯¹æ¯”
- **é¢„è®¡**: 20+ æµ‹è¯•ç”¨ä¾‹

### P1 - Algebra Kernelsï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### Task-03: SpMV å®Œæ•´æµ‹è¯• ğŸ”„
- **æ–‡ä»¶**: `test_algebra_spmv.cpp`
- **çŠ¶æ€**: ç¤ºä¾‹å®Œæˆ
- **å‡½æ•°**: 
  - scl_algebra_spmv
  - scl_algebra_spmv_simple
  - scl_algebra_spmv_scaled
  - scl_algebra_spmv_add
- **è¦æ±‚**:
  - âœ… å·²æœ‰æ¡†æ¶
  - éœ€è¡¥å……ï¼štranspose SpMV, CSC format
  - Eigen/BLAS å¯¹æ¯”
  - Monte Carlo 100+ trials
- **é¢„è®¡**: 40+ æµ‹è¯•ç”¨ä¾‹

#### Task-04: SpMM æµ‹è¯• â³
- **æ–‡ä»¶**: `test_algebra_spmm.cpp`
- **å‡½æ•°**: 
  - scl_algebra_spmm
  - scl_algebra_spmm_transposed
- **è¦æ±‚**:
  - éšæœºå½¢çŠ¶æµ‹è¯•
  - Eigen å‚è€ƒå¯¹æ¯”
  - å„ç§ alpha/beta ç»„åˆ
- **é¢„è®¡**: 30+ æµ‹è¯•ç”¨ä¾‹

#### Task-05: è¡Œåˆ—æ“ä½œæµ‹è¯• â³
- **æ–‡ä»¶**: `test_algebra_rowcol.cpp`
- **å‡½æ•°**:
  - scl_algebra_row_norms
  - scl_algebra_col_norms
  - scl_algebra_row_sums
  - scl_algebra_scale_rows
  - ç­‰
- **è¦æ±‚**: å®Œæ•´è¾¹ç•Œè¦†ç›–
- **é¢„è®¡**: 35+ æµ‹è¯•ç”¨ä¾‹

### P1 - Statistical Kernels

#### Task-06: Effect Size å®Œæ•´æµ‹è¯• ğŸ”„
- **æ–‡ä»¶**: `test_comp_effect_size.cpp`
- **çŠ¶æ€**: ç¤ºä¾‹å®Œæˆ
- **å‡½æ•°**: 2ä¸ª
- **è¦æ±‚**:
  - âœ… å·²æœ‰æ¡†æ¶
  - éœ€è¡¥å……ï¼šæ›´å¤šè¾¹ç•Œæƒ…å†µ
  - ç»Ÿè®¡åˆ†å¸ƒæµ‹è¯•
- **é¢„è®¡**: 25+ æµ‹è¯•ç”¨ä¾‹

#### Task-07: ç»Ÿè®¡æ£€éªŒæµ‹è¯• â³
- **æ–‡ä»¶**: `test_stat_tests.cpp`
- **å‡½æ•°**:
  - scl_stat_ttest
  - scl_stat_mannwhitneyu
  - scl_stat_kruskal_wallis
  - scl_stat_anova
- **è¦æ±‚**: 
  - æ ‡å‡†ç»Ÿè®¡å…¬å¼éªŒè¯
  - p-value æ­£ç¡®æ€§
  - è¾¹ç•Œæƒ…å†µï¼ˆn=1, n=2, ç›¸åŒç»„ç­‰ï¼‰
- **é¢„è®¡**: 50+ æµ‹è¯•ç”¨ä¾‹

#### Task-08: AUROC æµ‹è¯• â³
- **æ–‡ä»¶**: `test_stat_auroc.cpp`
- **å‡½æ•°**: scl_stat_auroc
- **è¦æ±‚**:
  - å®Œç¾åˆ†ç±» (AUC=1.0)
  - éšæœºåˆ†ç±» (AUC~=0.5)
  - Monte Carlo éªŒè¯
- **é¢„è®¡**: 20+ æµ‹è¯•ç”¨ä¾‹

### P2 - Advanced Kernels

#### Task-09: é‚»å±…å›¾æµ‹è¯• â³
- **æ–‡ä»¶**: `test_neighbors.cpp`
- **å‡½æ•°**: neighbors.h æ‰€æœ‰å‡½æ•°
- **é¢„è®¡**: 40+ æµ‹è¯•ç”¨ä¾‹

#### Task-10: èšç±»æµ‹è¯• â³
- **æ–‡ä»¶**: `test_clustering.cpp`
- **å‡½æ•°**: leiden.h, louvain.h
- **é¢„è®¡**: 35+ æµ‹è¯•ç”¨ä¾‹

... (æ›´å¤šä»»åŠ¡)

## ğŸ¯ ä»»åŠ¡æ¨¡æ¿

### æ ‡å‡†ä»»åŠ¡æ¨¡æ¿

```markdown
### Task-XX: <æ¨¡å—å> æµ‹è¯•

**è´Ÿè´£äºº**: [å¾…åˆ†é…]
**ä¼˜å…ˆçº§**: P1
**é¢„è®¡å·¥æ—¶**: 4-8å°æ—¶
**çŠ¶æ€**: â³ å¾…å¼€å§‹

#### ç›®æ ‡
- æ–‡ä»¶: `tests/c_api/src/test_<name>.cpp`
- è¦†ç›–: `scl/binding/c_api/<path>/<name>.h`
- å‡½æ•°æ•°: X ä¸ª
- æµ‹è¯•æ•°: Y+ ä¸ª

#### å‡½æ•°åˆ—è¡¨
1. [ ] function1 - <æè¿°>
2. [ ] function2 - <æè¿°>
3. ...

#### æµ‹è¯•è¦æ±‚
- âœ… NULL æŒ‡é’ˆæ£€æŸ¥ï¼ˆæ¯ä¸ªæŒ‡é’ˆå‚æ•°ï¼‰
- âœ… æ— æ•ˆå‚æ•°æ£€æŸ¥ï¼ˆè´Ÿæ•°ã€é›¶ã€è¶…ç•Œï¼‰
- âœ… ç»´åº¦ä¸åŒ¹é…æ£€æŸ¥
- âœ… è¾¹ç•Œå€¼æµ‹è¯•ï¼ˆ0, 1, maxï¼‰
- âœ… éšæœºæ•°æ®æµ‹è¯•ï¼ˆ3-5æ¬¡ retryï¼‰
- âœ… å‚è€ƒå®ç°å¯¹æ¯”ï¼ˆEigen/BLAS/æ ‡å‡†å…¬å¼ï¼‰
- âœ… ç²¾åº¦éªŒè¯ï¼ˆTolerance é€‚å½“é€‰æ‹©ï¼‰
- âœ… å¤§è§„æ¨¡æµ‹è¯•ï¼ˆæ ‡è®° "slow"ï¼‰

#### å‚è€ƒå®ç°
- Eigen: <æè¿°>
- BLAS: <å‡½æ•°å>
- æ ‡å‡†åº“: <ç®—æ³•>
- è‡ªå®šä¹‰: <å…¬å¼>

#### éªŒæ”¶æ ‡å‡†
```bash
make test-<name>              # 100% é€šè¿‡
make test-<name> VERBOSE=1    # æ— é”™è¯¯
./units/test_<name> --list    # Y+ ä¸ªæµ‹è¯•
```

#### äº¤ä»˜å†…å®¹
- [ ] æµ‹è¯•æ–‡ä»¶: `test_<name>.cpp`
- [ ] æµ‹è¯•é€šè¿‡: 100%
- [ ] ä»£ç å®¡æŸ¥é€šè¿‡
- [ ] æ–‡æ¡£å®Œæ•´

#### ä¾èµ–
- å‰ç½®ä»»åŠ¡: Task-XX (å¦‚æœæœ‰)
- å·¥å…·: test.hpp, precision.hpp, data.hpp
- åº“: libscl_f64_i64.so

#### æ³¨æ„äº‹é¡¹
- ä½¿ç”¨ `Random(seed)` ç¡®ä¿å¯å¤ç°
- æ‰€æœ‰éšæœºæµ‹è¯•ç”¨ `SCL_TEST_RETRY`
- æ…¢æµ‹è¯•æ ‡è®° `"slow"` æ ‡ç­¾
- ç²¾åº¦å®¹å·®æ ¹æ®ç®—æ³•ç‰¹æ€§é€‰æ‹©
```

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### 1. é€‰æ‹©ä»»åŠ¡
```bash
# æŸ¥çœ‹å¾…åˆ†é…ä»»åŠ¡
cat TASKS.md | grep "â³"
```

### 2. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
```bash
cd tests/c_api/src
cp test_core.cpp test_<your_module>.cpp
# ä¿®æ”¹ä¸ºä½ çš„æµ‹è¯•å†…å®¹
```

### 3. ç¼–è¯‘æµ‹è¯•
```bash
cd tests/c_api
make test-<your_module>
```

### 4. è¿­ä»£å¼€å‘
```bash
# å¿«é€Ÿå¾ªç¯
while true; do
    # ä¿®æ”¹ test_<name>.cpp
    make test-<name> VERBOSE=1
    
    # å¦‚æœå¤±è´¥ï¼Œè°ƒè¯•
    ./units/test_<name> --filter "failing_test"
    
    # ä¿®å¤åé‡æ–°æµ‹è¯•
done
```

## ğŸ“ˆ è¿›åº¦è·Ÿè¸ª

### æ—¥æŠ¥å‘Šæ ¼å¼
```
æ—¥æœŸ: 2025-12-30
ä»»åŠ¡: Task-XX
è¿›åº¦: 15/30 tests (50%)
çŠ¶æ€: 
  âœ… å®Œæˆ: function1, function2
  ğŸ”„ è¿›è¡Œä¸­: function3
  â³ å¾…å¼€å§‹: function4-function8
é—®é¢˜: 
  - Function3 æœ‰ç²¾åº¦é—®é¢˜ï¼Œéœ€è¦æ”¾å®½å®¹å·®
è§£å†³: 
  - æ”¹ç”¨ Tolerance::relaxed()
```

## ğŸ† å®Œæˆæ ‡å‡†

æµ‹è¯•å®Œæˆéœ€æ»¡è¶³ï¼š

1. **ç¼–è¯‘**: `make build-<name>` æ— é”™è¯¯
2. **è¿è¡Œ**: `make test-<name>` 100% é€šè¿‡
3. **è¦†ç›–**: æ‰€æœ‰å‡½æ•°å’Œè¾¹ç•Œæƒ…å†µ
4. **ç²¾åº¦**: å‚è€ƒå®ç°å¯¹æ¯”é€šè¿‡
5. **ç¨³å®š**: éšæœºæµ‹è¯•å¯é‡å¤
6. **æ€§èƒ½**: æµ‹è¯•è¿è¡Œæ—¶é—´ <5ç§’
7. **æ–‡æ¡£**: ä»£ç æ³¨é‡Šæ¸…æ™°

## ğŸ“ æ”¯æŒ

- **æµ‹è¯•æŒ‡å—**: `TEST_GUIDE.md`
- **å·¥å…·æ–‡æ¡£**: `include/*.hpp` å¤´éƒ¨æ³¨é‡Š
- **ç¤ºä¾‹**: `test_core.cpp`, `test_algebra_spmv.cpp`
- **é—®é¢˜**: æäº¤ Issue

---

**æ›´æ–°**: 2025-12-30
**ç‰ˆæœ¬**: 1.0

